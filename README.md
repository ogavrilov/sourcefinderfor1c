# sourcefinderfor1c
Скрипт выгрузки исходных файлов конфигураций и обработок 1С и поиска по ним

## ! ВАЖНО ! в разработке, основной скрипт не протестирован !

Скрипт принимает 1 аргумент - имя файла настроек (если аргументов нет - будет выполнен поиск файла формата JSON с именем скрипта).

Файл настроек включает в себя следующие настройки:
- КоллекцияИсходников - Массив структур с полями:
- - ТипИсходника - Строка, может принимать значения
- - - src - путь к файлу с кодом или каталогу с файлами с кодом
- - - cf - путь к файлу конфигурации
- - - cfe - путь к файлу расширения
- - - repocf - путь к хранилищу конфигурации ! требует дополнительно указания имени и пароля доступа к хранилищу
- - - repocfe - путь к хранилищу расширения конфигурации ! требует дополнительно указания имени и пароля доступа к хранилищу
- - - git - путь к репозиторию git ! еще не реализовано
- - - ib - путь к файлу ИБ содержащей обработки/отчеты, которые необходимо выгрузить (возможно указать путь к необходимой обработке выгрузки, пример tools/savehandlers.epf)
- - User - Строка имени пользователя
- - Pwd - Строка пароля пользователя
- - НомерВерсииХранилища - Число - Номер версии хранилища, которую необходимо получить (актуально только для типов исходника repocf и repocfe)
- ФорматыФайловДляАнализа - Массив строк с указанием масок файлов, в текстах которых необходимо выполнить поиск (например "*.bsl")
- КоллекцияСтрокПоиска - Массив строк "шаблонов" поиска (например ".Com.")
- ФайлОбработкиВыгрузкиДопОбработок - Строка пути к файлу внешней обработке, которая будет запускаться при старте 1С в режиме Предприятия с помощью параметра запуска "/Execute" и выгружать хранимые в ИБ обработки, для обработки передается параметр запуска "/CКаталогИсходников="<Путь>"" (пример tools/savehandlers.epf)
- ЛимитПроцессов - Число которым предполагается ограничить количество одновременно запущенных процессов выгрузки в исходников и поиска в них